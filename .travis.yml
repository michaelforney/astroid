language: cpp

before_install:
  - sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
  - sudo apt-get update -qq
  - sudo apt-get install libnotmuch-dev libboost-all-dev libglibmm-2.4-dev libwebkit-dev libwebkitgtk-3.0 libwebkitgtk-3.0-dev libgtkmm-3.0-dev libgmime-2.6-dev
  - if [ "$CXX" = "g++" ]; then sudo apt-get install -qq g++-4.8; fi
  - if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
  - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 90

script: 
  - scons --verbose

compiler:
  - gcc

notification:
  recipients:
    - eg@gaute.vetsj.com

  email:
    on_success: change
    on_failure: always

  irc:
    channels:
      - "chat.freenode.net#astroid"
    template:
      - "%{repository}/%{branch} (%{commit} - %{author}): %{message}"


os:
  - linux
  - osx
  - freebsd

